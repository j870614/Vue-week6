import{_ as f,r as n,o as h,c as b,b as e,d as o,w as v,i as u}from"./index-23b742f9.js";const g="https://vue3-course-api.hexschool.io/",w={data(){return{user:{username:"",password:""}}},methods:{login(){this.$http.post(`${g}v2/admin/signin`,this.user).then(a=>{const{message:s,token:r,expired:i}=a.data;document.cookie=`token=${r}; expires=${new Date(i)};`,alert(s),this.$router.push("/admin")}).catch(a=>{alert(a.response.data.message)})}}},x={class:"container"},V=e("h1",{class:"text-center"},"登入",-1),k={class:"row justify-content-center"},y={class:"mb-3"},$=e("label",{for:"email",class:"form-label"},"Email",-1),B={class:"mb-3"},C=e("label",{for:"password",class:"form-label"},"密碼",-1),E=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-lg btn-primary"},"登入")],-1);function q(a,s,r,i,t,p){const c=n("v-field"),d=n("error-message"),_=n("v-form");return h(),b("div",x,[V,e("div",k,[o(_,{ref:"form",class:"col-md-6",onSubmit:p.login},{default:v(({errors:m})=>[e("div",y,[$,o(c,{id:"email",name:"email",type:"email",class:u(["form-control",{"is-invalid":m.email}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:t.user.username,"onUpdate:modelValue":s[0]||(s[0]=l=>t.user.username=l)},null,8,["class","modelValue"]),o(d,{name:"email",class:"invalid-feedback"})]),e("div",B,[C,o(c,{id:"password",name:"密碼",type:"password",class:u(["form-control",{"is-invalid":m.密碼}]),placeholder:"請輸入密碼",rules:"required",modelValue:t.user.password,"onUpdate:modelValue":s[1]||(s[1]=l=>t.user.password=l)},null,8,["class","modelValue"]),o(d,{name:"密碼",class:"invalid-feedback"})]),E]),_:1},8,["onSubmit"])])])}const S=f(w,[["render",q]]);export{S as default};
