import{_ as h,o as d,c as l,b as t,t as e,g as _,v as m,F as v,f as g}from"./index-23b742f9.js";const p="https://vue3-course-api.hexschool.io/",u="hironakavue",y={data(){return{product:{},qty:1}},mounted(){const r=this.$route.params.id;this.getProduct(r)},methods:{getProduct(r){const o=this.$loading.show();this.$http.get(`${p}/v2/api/${u}/product/${r}`).then(c=>{this.product=c.data.product,o.hide()}).catch(c=>{alert(c.response.data.message),o.hide()})},addToCart(r,o=1){const c={data:{product_id:r,qty:o}};this.$http.post(`${p}v2/api/${u}/cart`,c).then(n=>{alert(n.data.message),this.$router.push("/cart")}).catch(n=>{alert(n.response.data.message)})}}},f=t("h2",null,"產品介紹頁",-1),k={class:"row"},b={class:"col-sm-3"},q=["src"],w={class:"col-sm-9"},x={key:0,class:"h5"},B={key:1},C={class:"h5"},D={class:"h4"},P={class:"input-group"},V=["value"];function F(r,o,c,n,s,a){return d(),l("div",null,[f,t("div",k,[t("div",b,[t("img",{src:s.product.imageUrl,alt:"",class:"img-fluid"},null,8,q)]),t("div",w,[t("h3",null,e(s.product.title),1),t("p",null,"商品描述："+e(s.product.description),1),t("p",null,"商品內容："+e(s.product.content),1),s.product.price===s.product.origin_price?(d(),l("div",x,e(s.product.price)+" 元 ",1)):(d(),l("div",B,[t("del",C,"原價 "+e(s.product.origin_price)+" 元",1),t("div",D,"現在只要 "+e(s.product.price)+" 元",1)])),t("div",P,[_(t("select",{class:"form-control","onUpdate:modelValue":o[0]||(o[0]=i=>s.qty=i)},[(d(),l(v,null,g(20,i=>t("option",{value:i,key:i},e(i),9,V)),64))],512),[[m,s.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-primary",onClick:o[1]||(o[1]=i=>a.addToCart(s.product.id,s.qty))}," 加入購物車 ")])])])])}const T=h(y,[["render",F]]);export{T as default};
